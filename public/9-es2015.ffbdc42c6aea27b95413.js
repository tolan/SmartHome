(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"0DRg":function(t,e,i){"use strict";i.r(e),i.d(e,"DevicesModule",(function(){return zt}));var n=i("ofXK"),a=i("3Pt+"),o=i("XhcP"),s=i("MutI"),r=i("R1ws"),l=i("FKr1"),c=i("fXoL");const d=["*",[["mat-card-footer"]]],h=["*","mat-card-footer"];let m=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(r.a,8))},t.\u0275cmp=c.Hb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&c.Eb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:h,decls:2,vars:0,template:function(t,e){1&t&&(c.kc(d),c.jc(0),c.jc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),u=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[l.e],l.e]}),t})();var g=i("GU7r"),b=i("8LU1"),p=i("u47x"),v=i("cH1L");const f=["thumbContainer"],_=["toggleBar"],C=["input"],x=function(){return{enterDuration:150}},k=["*"],y=new c.q("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let w=0;const O={provide:a.g,useExisting:Object(c.T)(()=>R),multi:!0};class M{constructor(t,e){this.source=t,this.checked=e}}class S{constructor(t){this._elementRef=t}}const P=Object(l.v)(Object(l.r)(Object(l.s)(Object(l.t)(S)),"accent"));let R=(()=>{class t extends P{constructor(t,e,i,n,a,o,s,r){super(t),this._focusMonitor=e,this._changeDetectorRef=i,this.defaults=o,this._animationMode=s,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++w,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new c.n,this.toggleChange=new c.n,this.dragChange=new c.n,this.tabIndex=parseInt(n)||0}get required(){return this._required}set required(t){this._required=Object(b.b)(t)}get checked(){return this._checked}set checked(t){this._checked=Object(b.b)(t),this._changeDetectorRef.markForCheck()}get inputId(){return(this.id||this._uniqueId)+"-input"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?this._inputElement.nativeElement.focus():t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new M(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(c.l),c.Nb(p.f),c.Nb(c.h),c.Xb("tabindex"),c.Nb(c.z),c.Nb(y),c.Nb(r.a,8),c.Nb(v.b,8))},t.\u0275cmp=c.Hb({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){var i;1&t&&(c.Gc(f,!0),c.Gc(_,!0),c.Gc(C,!0)),2&t&&(c.rc(i=c.bc())&&(e._thumbEl=i.first),c.rc(i=c.bc())&&(e._thumbBarEl=i.first),c.rc(i=c.bc())&&(e._inputElement=i.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){2&t&&(c.Vb("id",e.id),c.Cb("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),c.Eb("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange",dragChange:"dragChange"},exportAs:["matSlideToggle"],features:[c.Ab([O]),c.yb],ngContentSelectors:k,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(c.kc(),c.Sb(0,"label",0,1),c.Sb(2,"div",2,3),c.Sb(4,"input",4,5),c.ac("change",(function(t){return e._onChangeEvent(t)}))("click",(function(t){return e._onInputClick(t)})),c.Rb(),c.Sb(6,"div",6,7),c.Ob(8,"div",8),c.Sb(9,"div",9),c.Ob(10,"div",10),c.Rb(),c.Rb(),c.Rb(),c.Sb(11,"span",11,12),c.ac("cdkObserveContent",(function(){return e._onLabelTextChange()})),c.Sb(13,"span",13),c.Bc(14,"\xa0"),c.Rb(),c.jc(15),c.Rb(),c.Rb()),2&t){const t=c.sc(1),i=c.sc(12);c.Cb("for",e.inputId),c.Bb(2),c.Eb("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),c.Bb(2),c.lc("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),c.Cb("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),c.Bb(5),c.lc("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",c.oc(17,x))}},directives:[l.m,g.a],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),t})(),E=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)}}),t})(),I=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[E,l.n,l.e,g.c],E,l.e]}),t})();var D=i("FtGj"),B=i("nLfN"),j=i("quSY");const z=["sliderWrapper"],T=Object(B.f)({passive:!1}),A={provide:a.g,useExisting:Object(c.T)(()=>$),multi:!0};class L{}class F{constructor(t){this._elementRef=t}}const V=Object(l.v)(Object(l.r)(Object(l.t)(F),"accent"));let $=(()=>{class t extends V{constructor(t,e,i,n,a,o,s,r){super(t),this._focusMonitor=e,this._changeDetectorRef=i,this._dir=n,this._animationMode=o,this._ngZone=s,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new c.n,this.input=new c.n,this.valueChange=new c.n,this.onTouched=()=>{},this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=j.a.EMPTY,this._pointerDown=t=>{this.disabled||this._isSliding||!N(t)&&0!==t.button||this._runInsideZone(()=>{const e=this.value,i=G(t);this._isSliding=!0,this._lastPointerEvent=t,t.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(t),this._focusHostElement(),this._updateValueFromPosition(i),this._valueOnSlideStart=this.value,this._pointerPositionOnStart=i,e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())})},this._pointerMove=t=>{if(this._isSliding){t.preventDefault();const e=this.value;this._lastPointerEvent=t,this._updateValueFromPosition(G(t)),e!=this.value&&this._emitInputEvent()}},this._pointerUp=t=>{if(this._isSliding){const e=this._pointerPositionOnStart,i=G(t);t.preventDefault(),this._removeGlobalEvents(),this._valueOnSlideStart=this._pointerPositionOnStart=this._lastPointerEvent=null,this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||!e||e.x===i.x&&e.y===i.y||this._emitChangeEvent()}},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=r,this.tabIndex=parseInt(a)||0,this._runOutsizeZone(()=>{const e=t.nativeElement;e.addEventListener("mousedown",this._pointerDown,T),e.addEventListener("touchstart",this._pointerDown,T)})}get invert(){return this._invert}set invert(t){this._invert=Object(b.b)(t)}get max(){return this._max}set max(t){this._max=Object(b.e)(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=Object(b.e)(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=Object(b.e)(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=Object(b.b)(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?Object(b.e)(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let e=Object(b.e)(t);this._roundToDecimal&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=Object(b.b)(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?7:this._isMinValue&&!this.thumbLabel?this._isActive?10:7:0}get _trackBackgroundStyles(){const t=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._thumbGap}px) scale3d(${t})`}}get _trackFillStyles(){const t=this.percent,e=this.vertical?`1, ${t}, 1`:t+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._thumbGap}px) scale3d(${e})`,display:0===t?"none":""}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){let t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?`2px ${t}%`:t+"% 2px",transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue&&this._thumbGap){let t;t=this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left",e["padding"+t]=this._thumbGap+"px"}return e}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngOnInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,T),t.removeEventListener("touchstart",this._pointerDown,T),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||Object(D.q)(t))return;const e=this.value;switch(t.keyCode){case D.j:this._increment(10);break;case D.i:this._increment(-10);break;case D.c:this.value=this.max;break;case D.f:this.value=this.min;break;case D.g:this._increment("rtl"==this._getDirection()?1:-1);break;case D.n:this._increment(1);break;case D.k:this._increment("rtl"==this._getDirection()?-1:1);break;case D.b:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}_onKeyup(){this._isSliding=!1}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_bindGlobalEvents(t){const e=this._document;if(void 0!==e&&e){const i=N(t),n=i?"touchend":"mouseup";e.addEventListener(i?"touchmove":"mousemove",this._pointerMove,T),e.addEventListener(n,this._pointerUp,T),i&&e.addEventListener("touchcancel",this._pointerUp,T)}const i=this._getWindow();void 0!==i&&i&&i.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;void 0!==t&&t&&(t.removeEventListener("mousemove",this._pointerMove,T),t.removeEventListener("mouseup",this._pointerUp,T),t.removeEventListener("touchmove",this._pointerMove,T),t.removeEventListener("touchend",this._pointerUp,T),t.removeEventListener("touchcancel",this._pointerUp,T));const e=this._getWindow();void 0!==e&&e&&e.removeEventListener("blur",this._windowBlur)}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{const t=this._calculateValue(e),i=Math.round((t-this.min)/this.step)*this.step+this.min;this.value=this._clamp(i,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(30/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let e=new L;return e.source=this,e.value=t,e}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,e=0,i=1){return Math.max(e,Math.min(t,i))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}_runInsideZone(t){this._ngZone?this._ngZone.run(t):t()}_runOutsizeZone(t){this._ngZone?this._ngZone.runOutsideAngular(t):t()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(c.l),c.Nb(p.f),c.Nb(c.h),c.Nb(v.b,8),c.Xb("tabindex"),c.Nb(r.a,8),c.Nb(c.z),c.Nb(n.d,8))},t.\u0275cmp=c.Hb({type:t,selectors:[["mat-slider"]],viewQuery:function(t,e){var i;1&t&&c.Gc(z,!0),2&t&&c.rc(i=c.bc())&&(e._sliderWrapper=i.first)},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:28,hostBindings:function(t,e){1&t&&c.ac("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()}))("keydown",(function(t){return e._onKeydown(t)}))("keyup",(function(){return e._onKeyup()}))("mouseenter",(function(){return e._onMouseenter()}))("selectstart",(function(t){return t.preventDefault()})),2&t&&(c.Vb("tabIndex",e.tabIndex),c.Cb("aria-disabled",e.disabled)("aria-valuemax",e.max)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-orientation",e.vertical?"vertical":"horizontal"),c.Eb("mat-slider-disabled",e.disabled)("mat-slider-has-ticks",e.tickInterval)("mat-slider-horizontal",!e.vertical)("mat-slider-axis-inverted",e._invertAxis)("mat-slider-invert-mouse-coords",e._shouldInvertMouseCoords())("mat-slider-sliding",e._isSliding)("mat-slider-thumb-label-showing",e.thumbLabel)("mat-slider-vertical",e.vertical)("mat-slider-min-value",e._isMinValue)("mat-slider-hide-last-tick",e.disabled||e._isMinValue&&e._thumbGap&&e._invertAxis)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[c.Ab([A]),c.yb],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,e){1&t&&(c.Sb(0,"div",0,1),c.Sb(2,"div",2),c.Ob(3,"div",3),c.Ob(4,"div",4),c.Rb(),c.Sb(5,"div",5),c.Ob(6,"div",6),c.Rb(),c.Sb(7,"div",7),c.Ob(8,"div",8),c.Ob(9,"div",9),c.Sb(10,"div",10),c.Sb(11,"span",11),c.Bc(12),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&t&&(c.Bb(3),c.lc("ngStyle",e._trackBackgroundStyles),c.Bb(1),c.lc("ngStyle",e._trackFillStyles),c.Bb(1),c.lc("ngStyle",e._ticksContainerStyles),c.Bb(1),c.lc("ngStyle",e._ticksStyles),c.Bb(1),c.lc("ngStyle",e._thumbContainerStyles),c.Bb(5),c.Cc(e.displayValue))},directives:[n.n],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),t})();function N(t){return"t"===t.type[0]}function G(t){const e=N(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.clientX,y:e.clientY}}let H=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[n.c,l.e],l.e]}),t})();var q=i("f0Cb"),W=i("bTqV"),X=i("qFsG"),K=i("kmnG"),U=i("NFeN"),Z=i("tyNb"),Y=i("CViF"),Q=i("jgsO"),J=i("ihAu");const tt=function(t){return["room",t]};function et(t,e){if(1&t&&(c.Sb(0,"mat-list-item",1),c.Sb(1,"span"),c.Bc(2),c.Rb(),c.Rb()),2&t){const t=e.$implicit;c.lc("routerLink",c.pc(2,tt,t.room.id)),c.Bb(2),c.Cc(t.room.name)}}let it=(()=>{class t{constructor(t){this.deviceService=t,this.rooms=[]}ngOnInit(){this.deviceService.getControlled().subscribe(t=>{this.rooms=Object.values(t.reduce((t,e)=>(t[e.room.id]={room:e.room},t),{}))},"DevicesRoomsComponent")}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(J.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["rooms"]],decls:2,vars:1,consts:[["routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",3,"routerLink"]],template:function(t,e){1&t&&(c.Sb(0,"mat-list"),c.Ac(1,et,3,4,"mat-list-item",0),c.Rb()),2&t&&(c.Bb(1),c.lc("ngForOf",e.rooms))},directives:[s.a,n.l,s.b,Z.e,Z.d],styles:["mat-list-item[_ngcontent-%COMP%]{outline:0}mat-list-item.active[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.08)}mat-list-item[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.04);cursor:pointer}"]}),t})();function nt(t,e){1&t&&(c.Sb(0,"mat-sidenav-container",1),c.Sb(1,"mat-sidenav",2,3),c.Sb(3,"mat-list"),c.Ob(4,"rooms"),c.Rb(),c.Rb(),c.Sb(5,"mat-sidenav-content",4),c.Ob(6,"router-outlet"),c.Rb(),c.Rb())}let at=(()=>{class t{constructor(t){this.userService=t,this.hidden=!0}ngOnInit(){this.userService.getUser().subscribe(t=>{t&&t.permissions.find(t=>t.type===Y.a.TYPE_SECTION_DEVICES)&&(this.hidden=!1)},"DevicesRootComponent")}ngOnDestroy(){this.userService.getUser().unsubscribe("DevicesRootComponent")}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(Q.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["root"]],decls:1,vars:1,consts:[["class","sidepanel-container","autosize","",4,"ngIf"],["autosize","",1,"sidepanel-container"],["mode","side","opened",""],["drawer",""],[1,"content"]],template:function(t,e){1&t&&c.Ac(0,nt,7,0,"mat-sidenav-container",0),2&t&&c.lc("ngIf",!e.hidden)},directives:[n.m,o.b,o.a,s.a,it,o.c,Z.g],styles:[".sidepanel-container[_ngcontent-%COMP%]{height:100%}.sidepanel-container[_ngcontent-%COMP%]   .rooms[_ngcontent-%COMP%]{width:100px}"]}),t})();var ot=i("b1Pb");function st(t,e){if(1&t&&(c.Sb(0,"span"),c.Bc(1),c.Rb()),2&t){const t=c.ec();c.Bb(1),c.Cc(t.data.value?"Zhasnout":"Rozsv\xedtit")}}function rt(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",4),c.Sb(1,"span",5),c.Bc(2,"Zpo\u017ed\u011bn\xed:"),c.Rb(),c.Sb(3,"mat-slider",6),c.ac("change",(function(e){return c.uc(t),c.ec().changeDelayValue(e)})),c.Rb(),c.Sb(4,"span",7),c.Bc(5),c.Rb(),c.Sb(6,"mat-slide-toggle",8),c.ac("change",(function(e){return c.uc(t),c.ec().changeDelayUnit(e)})),c.Rb(),c.Rb()}if(2&t){const t=c.ec();c.Bb(3),c.lc("value",t.data.delay.value),c.Bb(2),c.Cc(t.data.delay.value+" "+t.data.delay.unit),c.Bb(1),c.lc("checked","min"===t.data.delay.unit)}}let lt=(()=>{class t{constructor(){this.simple=!1,this.onChange=new c.n,this.onEdit=new c.n,this.data={value:!1,delay:{value:0,unit:"sec"}}}ngOnInit(){const t=this.control.control.controlData||{},e=t.delay||{};this.data={value:t.value,delay:{value:e.value,unit:e.unit}}}changeValue(t){this.data.value=t.checked,this.onChange.emit(this._getControl())}changeDelayValue(t){this.data.delay.value=t.value,this.onEdit.emit(this._getControl())}changeDelayUnit(t){this.data.delay.unit=t.checked?"min":"sec",this.onEdit.emit(this._getControl())}_getControl(){return{control:Object.assign(Object.assign({},this.control.control),{controlData:Object.assign(Object.assign({},this.control.control.controlData),this.data)})}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Hb({type:t,selectors:[["switch"]],inputs:{control:"control",simple:"simple"},outputs:{onChange:"onChange",onEdit:"onEdit"},decls:4,vars:3,consts:[[1,"switch"],["labelPosition","before",1,"value",3,"checked","change"],[4,"ngIf"],["class","delay",4,"ngIf"],[1,"delay"],[1,"delay-value"],["min","0","max","120","step","1","thumbLabel","true","tickInterval","auto",3,"value","change"],[1,"delay-value-title"],[3,"checked","change"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"mat-slide-toggle",1),c.ac("change",(function(t){return e.changeValue(t)})),c.Ac(2,st,2,1,"span",2),c.Rb(),c.Ac(3,rt,7,3,"div",3),c.Rb()),2&t&&(c.Bb(1),c.lc("checked",e.data.value),c.Bb(1),c.lc("ngIf",!e.simple),c.Bb(1),c.lc("ngIf",!e.simple))},directives:[R,n.m,$],styles:[".switch[_ngcontent-%COMP%]{height:50px;width:100%;display:flex;align-items:center}.switch[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-right:12px}.switch[_ngcontent-%COMP%]   .delay[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}.switch[_ngcontent-%COMP%]   .delay[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{margin-left:12px;flex:1}.switch[_ngcontent-%COMP%]   .delay[_ngcontent-%COMP%]   .delay-value-title[_ngcontent-%COMP%]{margin-left:12px;margin-right:12px}"]}),t})();var ct=i("XNiG"),dt=i("Kj3r");function ht(t,e){if(1&t){const t=c.Tb();c.Sb(0,"mat-slider",12),c.ac("input",(function(e){return c.uc(t),c.ec().changeValue(e)})),c.Rb()}if(2&t){const t=c.ec();c.lc("max",t.max)}}let mt=(()=>{class t{constructor(t){this.formBuilder=t,this.simple=!1,this.onChange=new c.n,this.onEdit=new c.n,this.steps=[0,.5,1,2,3,4,5,7.5,10,15,20,35,50,75,100],this.data={value:0},this.subject=new ct.a,this.subject.pipe(Object(dt.a)(500)).subscribe(t=>{this.controlForm.value.value=t,this._emitChange()})}ngOnInit(){this.data.value=this.control.control.controlData.value,this.max=Math.pow(2,this.module.module.settingsData.resolution||8)-1,this.controlForm=this.formBuilder.group({value:this.data.value})}minus(){const t=this._getNearestStep();let e=Math.max(0,this.steps.indexOf(t)-1);this.controlForm.value.value===Math.round(this.max*this.steps[e]/100)&&(e=Math.max(0,e-1)),this.controlForm.value.value=Math.round(this.max*this.steps[e]/100),this._emitChange()}plus(){const t=this._getNearestStep();let e=Math.min(this.steps.length-1,this.steps.indexOf(t));this.controlForm.value.value===Math.round(this.max*this.steps[e]/100)&&e!==this.steps.length-1&&(e=Math.min(this.steps[this.steps.length-1],e+1)),this.controlForm.value.value=Math.round(this.max*this.steps[e]/100),this._emitChange()}changeValue(t){this.controlForm.value.value=t.value,this.onEdit.emit(this._getControl()),this.subject.next(t.value)}_emitChange(){this.onChange.emit(this._getControl())}_getControl(){return this.data.value=this.controlForm.value.value,{control:Object.assign(Object.assign({},this.control.control),{controlData:Object.assign(Object.assign({},this.control.control.controlData),this.data)})}}_getNearestStep(){const t=this.controlForm.value.value;return this.steps.reduce((e,i)=>{const n=Math.round(i/100*this.max),a=Math.round(e/100*this.max);return t<=n&&t>a&&t-n<t-a&&(e=i),e},0)}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(a.c))},t.\u0275cmp=c.Hb({type:t,selectors:[["pwm"]],inputs:{control:"control",module:"module",simple:"simple"},outputs:{onChange:"onChange",onEdit:"onEdit"},decls:19,vars:5,consts:[[1,"pwm"],[1,"value",3,"formGroup"],[1,"title"],["mat-button","",1,"minus",3,"click"],["matInput","","type","number","min","0","list","preferedValues","formControlName","value",3,"max","change"],["matSuffix",""],["id","preferedValues"],["value","0"],["value","1"],[3,"value"],["mat-button","",1,"plus",3,"click"],["min","0","step","1","thumbLabel","true","tickInterval","auto","formControlName","value",3,"max","input",4,"ngIf"],["min","0","step","1","thumbLabel","true","tickInterval","auto","formControlName","value",3,"max","input"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"form",1),c.Sb(2,"span",2),c.Bc(3,"Intenzita:"),c.Rb(),c.Sb(4,"button",3),c.ac("click",(function(){return e.minus()})),c.Sb(5,"mat-icon"),c.Bc(6,"remove_circle_outline"),c.Rb(),c.Rb(),c.Sb(7,"mat-form-field"),c.Sb(8,"input",4),c.ac("change",(function(t){return e.changeValue(t)})),c.Rb(),c.Sb(9,"span",5),c.Bc(10),c.Rb(),c.Sb(11,"datalist",6),c.Ob(12,"option",7),c.Ob(13,"option",8),c.Ob(14,"option",9),c.Rb(),c.Rb(),c.Sb(15,"button",10),c.ac("click",(function(){return e.plus()})),c.Sb(16,"mat-icon"),c.Bc(17,"add_circle_outline"),c.Rb(),c.Rb(),c.Ac(18,ht,1,1,"mat-slider",11),c.Rb(),c.Rb()),2&t&&(c.Bb(1),c.lc("formGroup",e.controlForm),c.Bb(7),c.lc("max",e.max),c.Bb(2),c.Dc("/",e.max,""),c.Bb(4),c.lc("value",e.max),c.Bb(4),c.lc("ngIf",!e.simple))},directives:[a.p,a.j,a.e,W.a,U.a,K.b,X.a,a.m,a.b,a.i,a.d,K.f,a.l,a.o,n.m,$],styles:[".pwm[_ngcontent-%COMP%]{height:50px;width:100%}.pwm[_ngcontent-%COMP%], .pwm[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:flex;align-items:center}.pwm[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1}.pwm[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%], .pwm[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{padding-left:4px;padding-right:4px;min-width:36px}.pwm[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:112px;margin-left:0;text-align:right;top:4px}.pwm[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .pwm[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.pwm[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.pwm[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{margin-left:12px;flex:1}"]}),t})();function ut(t,e){if(1&t){const t=c.Tb();c.Sb(0,"button",9),c.ac("click",(function(){return c.uc(t),c.ec().onStart()})),c.Bc(1,"Spustit"),c.Rb()}}function gt(t,e){if(1&t){const t=c.Tb();c.Sb(0,"button",10),c.ac("click",(function(){return c.uc(t),c.ec().onStop()})),c.Bc(1,"Zastavit"),c.Rb()}}let bt=(()=>{class t{constructor(){this.onChange=new c.n,this.onEdit=new c.n,this.data={value:0,running:!1,delay:{value:1,unit:"min"}}}ngOnInit(){const t=this.control.control.controlData||{},e=t.delay||{};this.data={value:t.value,running:t.running,delay:{value:e.value,unit:e.unit}},this.max=Math.pow(2,this.module.module.settingsData.resolution||8)-1}onStop(){const t=this._getControl(!1);this.onChange.emit(t)}onStart(){const t=this._getControl(!0);this.onChange.emit(t)}changeValue(t){this.data.value=t.value;const e=this._getControl(this.data.running);this.onEdit.emit(e)}changeDelayValue(t){this.data.delay.value=t.value;const e=this._getControl(this.data.running);this.onEdit.emit(e)}_getControl(t){return{control:Object.assign(Object.assign({},this.control.control),{controlData:Object.assign(Object.assign(Object.assign({},this.control.control.controlData),this.data),{running:t})})}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Hb({type:t,selectors:[["fade"]],inputs:{control:"control",module:"module"},outputs:{onChange:"onChange",onEdit:"onEdit"},decls:15,vars:7,consts:[[1,"fade"],[1,"value"],[1,"title"],["min","0","step","1","thumbLabel","true","tickInterval","auto",3,"max","value","change"],[1,"value-title"],[1,"delay"],["min","1","max","90","step","1","thumbLabel","true","tickInterval","auto",3,"value","change"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"span",2),c.Bc(3,"Postupn\xe1 zm\u011bna:"),c.Rb(),c.Sb(4,"mat-slider",3),c.ac("change",(function(t){return e.changeValue(t)})),c.Rb(),c.Sb(5,"span",4),c.Bc(6),c.Rb(),c.Rb(),c.Sb(7,"div",5),c.Sb(8,"span",2),c.Bc(9,"Doba trv\xe1n\xed:"),c.Rb(),c.Sb(10,"mat-slider",6),c.ac("change",(function(t){return e.changeDelayValue(t)})),c.Rb(),c.Sb(11,"span",4),c.Bc(12),c.Rb(),c.Rb(),c.Ac(13,ut,2,0,"button",7),c.Ac(14,gt,2,0,"button",8),c.Rb()),2&t&&(c.Bb(4),c.lc("max",e.max)("value",e.data.value),c.Bb(2),c.Dc("(",e.data.value,")"),c.Bb(4),c.lc("value",e.data.delay.value),c.Bb(2),c.Cc(e.data.delay.value+" min"),c.Bb(1),c.lc("ngIf",!e.data.running),c.Bb(1),c.lc("ngIf",e.data.running))},directives:[$,n.m,W.a],styles:[".fade[_ngcontent-%COMP%]{height:50px;width:100%;display:flex;align-items:center}.fade[_ngcontent-%COMP%]   .delay[_ngcontent-%COMP%], .fade[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}.fade[_ngcontent-%COMP%]   .delay[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .fade[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-right:6px}.fade[_ngcontent-%COMP%]   .delay[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%], .fade[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{margin-right:6px;flex:1}.fade[_ngcontent-%COMP%]   .delay[_ngcontent-%COMP%]   .value-title[_ngcontent-%COMP%], .fade[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .value-title[_ngcontent-%COMP%]{margin-right:6px}"]}),t})();function pt(t,e){if(1&t){const t=c.Tb();c.Sb(0,"switch",11),c.ac("onChange",(function(e){return c.uc(t),c.ec(2).onControlChange(e)}))("onEdit",(function(e){return c.uc(t),c.ec(2).onControlEdit(e)})),c.Rb()}if(2&t){const t=c.ec().$implicit;c.lc("control",t)("simple",!0)}}function vt(t,e){if(1&t&&(c.Qb(0),c.Ac(1,pt,1,2,"switch",10),c.Pb()),2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.lc("ngIf",t.control.type===i.ControlType.SWITCH)}}function ft(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",12),c.Sb(1,"button",6),c.ac("click",(function(){return c.uc(t),c.ec().reset()})),c.Sb(2,"mat-icon"),c.Bc(3,"settings_backup_restore"),c.Rb(),c.Rb(),c.Rb()}}function _t(t,e){1&t&&(c.Sb(0,"mat-icon"),c.Bc(1,"keyboard_arrow_down"),c.Rb())}function Ct(t,e){1&t&&(c.Sb(0,"mat-icon"),c.Bc(1,"keyboard_arrow_up"),c.Rb())}function xt(t,e){if(1&t){const t=c.Tb();c.Sb(0,"pwm",14),c.ac("onChange",(function(e){return c.uc(t),c.ec(2).onControlChange(e)}))("onEdit",(function(e){return c.uc(t),c.ec(2).onControlEdit(e)})),c.Rb()}if(2&t){const t=c.ec().$implicit,e=c.ec();c.lc("simple",!0)("control",t)("module",e.module)}}function kt(t,e){if(1&t&&(c.Qb(0),c.Ac(1,xt,1,3,"pwm",13),c.Pb()),2&t){const t=e.$implicit,i=c.ec();c.Bb(1),c.lc("ngIf",t.control.type===i.ControlType.PWM)}}function yt(t,e){if(1&t){const t=c.Tb();c.Sb(0,"fade",19),c.ac("onChange",(function(e){return c.uc(t),c.ec(2).onControlChange(e)}))("onEdit",(function(e){return c.uc(t),c.ec(2).onControlEdit(e)})),c.Rb()}if(2&t){const t=c.ec().$implicit,e=c.ec();c.lc("control",t)("module",e.module)}}function wt(t,e){if(1&t){const t=c.Tb();c.Sb(0,"pwm",19),c.ac("onChange",(function(e){return c.uc(t),c.ec(2).onControlChange(e)}))("onEdit",(function(e){return c.uc(t),c.ec(2).onControlEdit(e)})),c.Rb()}if(2&t){const t=c.ec().$implicit,e=c.ec();c.lc("control",t)("module",e.module)}}function Ot(t,e){if(1&t){const t=c.Tb();c.Sb(0,"switch",20),c.ac("onChange",(function(e){return c.uc(t),c.ec(2).onControlChange(e)}))("onEdit",(function(e){return c.uc(t),c.ec(2).onControlEdit(e)})),c.Rb()}if(2&t){const t=c.ec().$implicit;c.lc("control",t)}}function Mt(t,e){if(1&t&&(c.Qb(0,15),c.Ac(1,yt,1,2,"fade",16),c.Ac(2,wt,1,2,"pwm",17),c.Ac(3,Ot,1,1,"switch",18),c.Pb()),2&t){const t=e.$implicit,i=c.ec();c.lc("ngSwitch",t.control.type),c.Bb(1),c.lc("ngSwitchCase",i.ControlType.FADE),c.Bb(1),c.lc("ngIf",t.control.type===i.ControlType.PWM),c.Bb(1),c.lc("ngSwitchCase",i.ControlType.SWITCH)}}let St=(()=>{class t{constructor(t){this.deviceService=t,this.opened=!1,this.onControl=new c.n,this.onEdit=new c.n,this.onReset=new c.n,this.onToggle=new c.n,this.ControlType=ot.d}ngOnInit(){const t=this._buildControls(this.module);this.controls=this._mergeControls(this.module,t),this.deviceService.registerModuleMonitor(this.module,t=>this.moduleMonitor(t))}ngOnDestroy(){this.deviceService.unRegisterModuleMonitor(this.module)}onControlChange(t){this.onControl.emit(t)}onControlEdit(t){this.onEdit.emit(t)}reset(){this.controls=this._buildControls(this.module),this.onReset.emit()}moduleMonitor(t){this.controls=this._mergeControls(t,this.controls)}toggle(){this.onToggle.emit()}_buildControls(t){return Object.values(this.ControlType).reduce((e,i)=>e.concat(t.controls.find(t=>i===t.control.type&&t.control.controlData.active)),[]).filter(Boolean)}_mergeControls(t,e){return this._buildControls(t).map(t=>{let i=e.find(e=>t.control.id===e.control.id);return this.edited&&this.edited[t.control.id]?i=this.edited[t.control.id]:i&&(i=Object.assign({},i,t)),i})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(J.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["module"]],inputs:{roomId:"roomId",device:"device",module:"module",opened:"opened",edited:"edited"},outputs:{onControl:"onControl",onEdit:"onEdit",onReset:"onReset",onToggle:"onToggle"},decls:14,vars:11,consts:[[3,"ngClass"],[1,"header"],[4,"ngFor","ngForOf"],[1,"title",3,"click"],["class","reset",4,"ngIf"],[1,"toggle"],["mat-button","",3,"click"],[4,"ngIf"],[1,"content"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"control","simple","onChange","onEdit",4,"ngIf"],[3,"control","simple","onChange","onEdit"],[1,"reset"],["class","control",3,"simple","control","module","onChange","onEdit",4,"ngIf"],[1,"control",3,"simple","control","module","onChange","onEdit"],[3,"ngSwitch"],["class","control",3,"control","module","onChange","onEdit",4,"ngSwitchCase"],["class","control",3,"control","module","onChange","onEdit",4,"ngIf"],["class","control",3,"control","onChange","onEdit",4,"ngSwitchCase"],[1,"control",3,"control","module","onChange","onEdit"],[1,"control",3,"control","onChange","onEdit"]],template:function(t,e){if(1&t&&(c.Sb(0,"mat-card",0),c.Sb(1,"div",1),c.Ac(2,vt,2,1,"ng-container",2),c.Sb(3,"div",3),c.ac("click",(function(){return e.toggle()})),c.Bc(4),c.Rb(),c.Ac(5,ft,4,0,"div",4),c.fc(6,"keyvalue"),c.Sb(7,"div",5),c.Sb(8,"button",6),c.ac("click",(function(){return e.toggle()})),c.Ac(9,_t,2,0,"mat-icon",7),c.Ac(10,Ct,2,0,"mat-icon",7),c.Rb(),c.Rb(),c.Ac(11,kt,2,1,"ng-container",2),c.Rb(),c.Sb(12,"div",8),c.Ac(13,Mt,4,4,"ng-container",9),c.Rb(),c.Rb()),2&t){var i;const t=null==(i=c.gc(6,9,e.edited))?null:i.length;c.lc("ngClass",e.opened?"open":"close"),c.Bb(2),c.lc("ngForOf",e.controls),c.Bb(2),c.Ec(" ",e.roomId?"":e.device.room.name+" / ","",e.module.module.name," "),c.Bb(1),c.lc("ngIf",t),c.Bb(4),c.lc("ngIf",!e.opened),c.Bb(1),c.lc("ngIf",e.opened),c.Bb(1),c.lc("ngForOf",e.controls),c.Bb(2),c.lc("ngForOf",e.controls)}},directives:[m,n.k,n.l,n.m,W.a,lt,U.a,mt,n.o,n.p,bt],pipes:[n.g],styles:[".header[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:relative;top:6px;font-size:18px;font-weight:500;cursor:pointer}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   switch[_ngcontent-%COMP%]{display:inline-block}.header[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{position:relative;top:4px;width:64px;display:inline-block}.header[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{float:right}.header[_ngcontent-%COMP%]   pwm[_ngcontent-%COMP%]{margin-left:12px;display:inline-block;float:right}@media only screen and (max-width:767px){.header[_ngcontent-%COMP%]   pwm[_ngcontent-%COMP%]{float:none;display:block}.open[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   pwm[_ngcontent-%COMP%]{float:none;display:none}}.open[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{transition:max-height .25s ease-in;max-height:1000px}.open[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{transition:opacity .1s linear .25s}.open[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   pwm[_ngcontent-%COMP%]{opacity:0;transition:opacity .25s linear}.close[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{transition:max-height .25s ease-out .1s;overflow:hidden;max-height:0}.close[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{opacity:0;transition:opacity .1s}.close[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   pwm[_ngcontent-%COMP%]{transition:opacity .25s linear .25s}"]}),t})();function Pt(t,e){1&t&&c.Ob(0,"mat-divider")}const Rt=function(){return{}};function Et(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div"),c.Sb(1,"module",3),c.ac("onControl",(function(i){c.uc(t);const n=e.$implicit,a=c.ec().$implicit;return c.ec().onModuleControl(a,n,i)}))("onEdit",(function(i){c.uc(t);const n=e.$implicit,a=c.ec().$implicit;return c.ec().onModuleEdit(a,n,i)}))("onReset",(function(){c.uc(t);const i=e.$implicit,n=c.ec().$implicit;return c.ec().onModuleReset(n,i)}))("onToggle",(function(){c.uc(t);const i=e.$implicit;return c.ec(2).onModuleToggle(i)})),c.Rb(),c.Ac(2,Pt,1,0,"mat-divider",4),c.Rb()}if(2&t){const t=e.$implicit,i=e.last,n=c.ec(),a=n.$implicit,o=n.last,s=c.ec();c.Bb(1),c.lc("roomId",s.roomId)("device",a)("module",t)("opened",s.opened[t.module.id])("edited",(s.edited[a.device.id]||c.oc(6,Rt))[t.module.id]||c.oc(7,Rt)),c.Bb(1),c.lc("ngIf",!(o&&i))}}function It(t,e){if(1&t&&(c.Sb(0,"div"),c.Ac(1,Et,3,8,"div",2),c.Rb()),2&t){const t=e.$implicit;c.Bb(1),c.lc("ngForOf",t.modules)}}let Dt=(()=>{class t{constructor(t,e){this.route=t,this.deviceService=e,this.devices=[],this.roomId=null,this.edited={},this.opened={}}ngOnInit(){this.deviceService.getControlled().subscribe(t=>{this.devices=t,this.opened=this.devices.reduce((t,{modules:e})=>(e.forEach(e=>{t[e.module.id]||(t[e.module.id]=!1)}),t),this.opened)},"DevicesDevicesComponent"),this.route.paramMap.subscribe(t=>{this.roomId=t.get("id")})}ngOnDestroy(){this.deviceService.getControlled().unsubscribe("DevicesDevicesComponent")}getDevices(){return this.devices.filter(t=>!this.roomId||t.room.id===Number(this.roomId))}onModuleControl(t,e,i){const n={device:Object.assign({},t.device),module:Object.assign({},e.module),control:Object.assign({},i.control)};this.edited[t.device.id]&&this.edited[t.device.id][e.module.id]&&delete this.edited[t.device.id][e.module.id][i.control.id],this.deviceService.control(n)}onModuleEdit(t,e,i){this.edited[t.device.id]||(this.edited[t.device.id]={}),this.edited[t.device.id][e.module.id]||(this.edited[t.device.id][e.module.id]={}),this.edited[t.device.id][e.module.id][i.control.id]=i}onModuleReset(t,e){if(this.edited[t.device.id]&&this.edited[t.device.id][e.module.id]){const i=Object.assign({},this.edited);delete this.edited[t.device.id][e.module.id],this.edited=i}}onModuleToggle(t){this.opened[t.module.id]=!this.opened[t.module.id]}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(Z.a),c.Nb(J.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["devices"]],decls:3,vars:1,consts:[[1,"devices"],[1,"container"],[4,"ngFor","ngForOf"],[1,"module",3,"roomId","device","module","opened","edited","onControl","onEdit","onReset","onToggle"],[4,"ngIf"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Ac(2,It,2,1,"div",2),c.Rb(),c.Rb()),2&t&&(c.Bb(2),c.lc("ngForOf",e.getDevices()))},directives:[n.l,St,n.m,q.a],styles:[".devices[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:6px;min-width:600px;max-width:1200px;margin:auto}.devices[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]{display:block}*[_ngcontent-%COMP%]{cursor:default}"]}),t})();const Bt=[{path:"",component:at,children:[{path:"",component:Dt},{path:"room/:id",component:Dt,data:{title:(t,e,i)=>{const n=e.getContainer("DeviceService").get("devices");n.subscribe(e=>{const a=t.url.match(/\d+/),o=a&&Number(a[0]);e.some(t=>t.room.id===o&&(i(t.room.name),!0)),n.unsubscribe("RouterTitleDevice")},"RouterTitleDevice")}}}]}];let jt=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[Z.f.forChild(Bt)],Z.f]}),t})(),zt=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[n.c,a.n,jt,o.d,s.c,u,I,H,q.b,W.b,X.b,K.d,U.b]]}),t})()}}]);